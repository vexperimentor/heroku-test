<form role="form" ng-submit="onVarCreationSubmit()">
<h2>New Variable
<button class="float-right btn-success btn btn-xs" ng-click="onToggleVarCreationPanel()"><i class="fa fa-close"></i> Cancel</button>
<button class="float-right btn-default btn btn-xs" type="submit"><i class="fa fa-plus"></i> Create</button>
</h2>

	<div class="form-group">
		<input type="text" name="name" ng-model="variable_activity.info.name" placeholder="Name" class="form-control" required>
	</div>
	<div class="form-group">
		<input type="text" name="desc" ng-model="variable_activity.info.description" placeholder="Description" class="form-control" required>
	</div>
	<div class="form-group">
		<select ng-model="variable_activity.info.v_type">
			<option ng-repeat="v_type in variable_activity.static.types track by $index" value="{{v_type}}" ng-selected="v_type == variable_activity.info.v_type">{{v_type}}</option>
		</select>
	</div>
	<hr>
	<div class="rules-header">Rules <button class="float-right btn btn-xs" ng-click="onVarAddRule()"><i class="fa fa-plus"></i></button></div>
	<div class="form-group row" ng-repeat = "rule in variable_activity.rule.pool_defined track by rule.code">
		<div class="col-xs-5">
			<select ng-model="rule.code" ng-change="onVarChangeRule($index)">				
				<option value="{{rule.code}}">{{rule.name}}</option>
				<option ng-repeat = "item in variable_activity.rule.pool_available track by item.code" value="{{item.code}}">
					{{item.name}}
				</option>
				<option value="remove">--Remove</option>
			</select>
		</div>
		<div class="col-xs-7">
			<var-rule-input code="{{rule.code}}" model="rule.value"></var-rule-input>
		</div>
	</div>
</form>